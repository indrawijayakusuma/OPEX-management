<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
</head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-aFq/bzH65dt+w6FI2ooMVUpc+21e0SRygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp" crossorigin="anonymous">
    <title>index</title>
</head>
<body>
    <div class="container-md mt-5">
        <div class="row">
            <div class="col">
                <a th:href="@{/beban/addform}" class="btn btn-primary"><i class="bi bi-plus-circle"></i> Add Beban</a>
                <div class="table-responsive d-flex justify-content-center">
                    <table class="table table-md table-striped mt-4 w-100">
                        <thead class="table-light">
                        <tr>
                            <th scope="col">No</th>
                            <th scope="col" >
                                <a class="link-underline link-underline-opacity-0" th:href="@{'/beban/page/' + ${currentPage} + '?' + 'sortField=name&sortDirection=' + ${reverseDirection}}">Name <i class="bi bi-arrow-down-up"></i></a>
                            </th>
                            <th scope="col">
                                <a class="link-underline link-underline-opacity-0" th:href="@{'/beban/page/' + ${currentPage} + '?' + 'sortField=budget&sortDirection=' + ${reverseDirection}}">Budget <i class="bi bi-arrow-down-up"></i></a>
                            </th>
                            <th scope="col">
                                <a class="link-underline link-underline-opacity-0" th:href="@{'/beban/page/' + ${currentPage} + '?' + 'sortField=sisa&sortDirection=' + ${reverseDirection}}">Sisa <i class="bi bi-arrow-down-up"></i></a>
                            </th>
                            <th scope="col">
                                <a class="link-underline link-underline-opacity-0" th:href="@{'/beban/page/' + ${currentPage} + '?' + 'sortField=date&sortDirection=' + ${reverseDirection}}">Date <i class="bi bi-arrow-down-up"></i></a>
                            </th>
                            <th scope="col">Action</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="beban, iterator : ${bebans}">
                            <th scope="row" th:text="${iterator.count}"></th>
                            <td>[[${beban.name}]]</td>
                            <td>[[${#strings.replace(#numbers.formatCurrency(beban.budget), ',00','')}]]</td>
                            <td>[[${#strings.replace(#numbers.formatCurrency(beban.sisa), ',00','')}]]</td>
                            <td>[[${#dates.format(beban.date, 'dd/MM/yyyy')}]]</td>
                            <td>
                                <a type="button"  th:href="@{'/beban/update/' + ${beban.id}}" class="btn btn-outline-primary"><i class="bi bi-pencil-square"></i> Edit</a>
                                <a type="button" th:href="@{'/beban/delete/' + ${beban.id}}" class="btn btn-outline-danger"><i class="bi bi-x-circle"></i> Delete</a>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <nav aria-label="Page navigation example" class="mt-3 mb-5" th:if="${totalPages > 0}">
                    <ul class="pagination justify-content-center">
                        <li class="page-item" th:classappend="${currentPage == 1} ? 'disabled'">
                            <a th:href="@{'/beban/page/' + '1' + '?' + 'sortField='+ ${sortField} +'&sortDirection=' + ${sortDirection}}" class="page-link"><<</a>
                        </li>
                        <li class="page-item"><a class="page-link" href="#">1</a></li>
                        <li class="page-item"><a class="page-link" href="#">2</a></li>
                        <li class="page-item"><a class="page-link" href="#">3</a></li>
                        <li class="page-item">
                            <a class="page-link" href="#">Next</a>
                        </li>
                        <li class="page-item" th:classappend="${currentPage == totalPages} ? 'disabled'">
<!--                            <a th:replace="fragments/paging :: paging(${totalPages}, '>>', 'Last Page')"></a>-->
                            <a th:href="@{'/beban/page/' + ${totalPages} + '?' + 'sortField='+ ${sortField} +'&sortDirection=' + ${sortDirection}}" class="page-link"> >> </a>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.bundle.min.js" integrity="sha384-qKXV1j0HvMUeCBQ+QVp7JcfGl760yU08IQ+GpUo5hlbpg51QRiuqHAJz8+BrxE/N" crossorigin="anonymous"></script>
</body>
</html>